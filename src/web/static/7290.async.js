"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7290],{51182:function(ae,Y,e){var G=e(9783),E=e.n(G),H=e(97857),O=e.n(H),y=e(5574),l=e.n(y),u=e(80882),o=e(48115),A=e(98081),M=e(83062),U=e(66309),b=e(83622),f=e(67294),d=e(85893),k=function(C){var s=C.labels,r=C.key,i=(0,f.useState)({}),F=l()(i,2),I=F[0],p=F[1],P=function(m){p(function(R){return O()(O()({},R),{},E()({},m,!R[m]))})},T=function(m){return Object.entries(m).map(function(R){var x=l()(R,2),S=x[0],Z=x[1];return"".concat(S,": ").concat(Z)})},L=T(s),B=I[r]||!1,g=3,X=B?L:L.slice(0,g),W=L.length-g;return(0,d.jsxs)(A.Z,{direction:"vertical",size:"small",children:[X.map(function(v,m){return(0,d.jsx)(M.Z,{title:v,placement:"top",children:(0,d.jsx)(U.Z,{color:"blue",style:{margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:250,boxSizing:"border-box",cursor:"pointer"},children:v},m)})}),!B&&W>0&&(0,d.jsxs)(b.ZP,{type:"link",size:"small",onClick:function(){return P(r)},icon:(0,d.jsx)(u.Z,{}),style:{padding:"0 4px",height:"auto",fontSize:"12px"},children:["\u66F4\u591A(",W,")"]}),B&&(0,d.jsx)(b.ZP,{type:"link",size:"small",onClick:function(){return P(r)},icon:(0,d.jsx)(o.Z,{}),style:{padding:"0 4px",height:"auto",fontSize:"12px"},children:"\u6536\u8D77"})]})};Y.Z=k},42048:function(ae,Y,e){var G=e(97857),E=e.n(G),H=e(15009),O=e.n(H),y=e(99289),l=e.n(y),u=e(5574),o=e.n(u),A=e(51182),M=e(62832),U=e(88026),b=e(98081),f=e(4393),d=e(61182),k=e(27484),q=e.n(k),C=e(67294),s=e(85893),r=function(F){var I=F.name,p=F.namespace,P=F.type,T=(0,C.useState)([]),L=o()(T,2),B=L[0],g=L[1],X=(0,C.useState)(0),W=o()(X,2),v=W[0],m=W[1],R=(0,C.useState)({current:1,pageSize:10}),x=o()(R,2),S=x[0],Z=x[1],w=function(){var K=l()(O()().mark(function a(){var t,_,n,c,D,j,V,z,J,N;return O()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!P){h.next=9;break}return h.next=3,M.Z.KubernetesController.resource_detail(P,p,encodeURIComponent(encodeURIComponent("".concat(I,"/ingress"))));case 3:t=h.sent,_=t.code,n=t.data,_==200&&(c=n.items,D=n.listMeta,m(D.totalItems),g(c)),h.next=15;break;case 9:return h.next=11,M.Z.KubernetesController.resource("ingress",p,I,S.pageSize,S.current);case 11:j=h.sent,V=j.code,z=j.data,V==200&&(J=z.items,N=z.listMeta,m(N.totalItems),g(J));case 15:case"end":return h.stop()}},a)}));return function(){return K.apply(this,arguments)}}();(0,C.useEffect)(function(){I&&w()},[I]);var te=[{title:"\u540D\u79F0",dataIndex:["objectMeta","name"],key:"objectMeta.name",width:250,render:function(a,t){return(0,s.jsx)(U.Link,{to:"/apps/info/ingress/".concat(t.objectMeta.namespace,"/").concat(a),children:a})}},{title:"\u6807\u7B7E",dataIndex:["objectMeta","labels"],key:"labels",width:250,render:function(a,t){return(0,s.jsx)(A.Z,{labels:a},t.objectMeta.name)}},{title:"\u7AEF\u70B9",dataIndex:"endpoints",key:"endpoints",width:250,render:function(a){return(0,s.jsx)(b.Z,{direction:"vertical",size:"small",children:a.map(function(t){return(0,s.jsx)("a",{href:t.ports?"http://".concat(t.host,":").concat(t.ports):"http://".concat(t.host),target:"_blank",rel:"noopener noreferrer",children:t.host})})})}},{title:"\u4E3B\u673A",dataIndex:"hosts",key:"hosts",width:250,render:function(a){return(0,s.jsx)(b.Z,{direction:"vertical",size:"small",children:a.map(function(t){return(0,s.jsx)("a",{href:"https://".concat(t),target:"_blank",rel:"noopener noreferrer",children:t})})})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:["objectMeta","creationTimestamp"],key:"creationTimestamp",width:250,render:function(a){return q()(a).format("YYYY-MM-DD HH:mm:ss")}}],_e=function(a,t){Z({current:a,pageSize:t})};return(0,s.jsx)(f.Z,{title:"Ingresses",style:{marginBottom:"24px"},children:(0,s.jsx)(d.Z,{columns:te,dataSource:B,pagination:E()(E()({},S),{},{showSizeChanger:!0,total:v,onChange:_e})})})};Y.Z=r},54075:function(ae,Y,e){var G=e(97857),E=e.n(G),H=e(15009),O=e.n(H),y=e(99289),l=e.n(y),u=e(5574),o=e.n(u),A=e(51182),M=e(62832),U=e(88026),b=e(98081),f=e(66309),d=e(4393),k=e(61182),q=e(27484),C=e.n(q),s=e(67294),r=e(85893),i=function(I){var p=I.name,P=I.namespace,T=I.type,L=(0,s.useState)([]),B=o()(L,2),g=B[0],X=B[1],W=(0,s.useState)(0),v=o()(W,2),m=v[0],R=v[1],x=(0,s.useState)({current:1,pageSize:10}),S=o()(x,2),Z=S[0],w=S[1],te=function(){var a=l()(O()().mark(function t(){var _,n,c,D,j,V,z,J,N,ee;return O()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!T){$.next=9;break}return $.next=3,M.Z.KubernetesController.resource_detail(T,P,encodeURIComponent(encodeURIComponent("".concat(p,"/persistentvolumeclaim"))));case 3:_=$.sent,n=_.code,c=_.data,n==200&&(D=c.items,j=c.listMeta,R(j.totalItems),X(D)),$.next=15;break;case 9:return $.next=11,M.Z.KubernetesController.resource("persistentvolumeclaim",P,p,Z.pageSize,Z.current);case 11:V=$.sent,z=V.code,J=V.data,z==200&&(N=J.items,ee=J.listMeta,R(ee.totalItems),X(N));case 15:case"end":return $.stop()}},t)}));return function(){return a.apply(this,arguments)}}();(0,s.useEffect)(function(){p&&te()},[p]);var _e=[{title:"\u540D\u79F0",dataIndex:["objectMeta","name"],key:"objectMeta.name",width:150,render:function(t,_){return(0,r.jsx)(U.Link,{to:"/apps/info/pvc/".concat(_.objectMeta.namespace,"/").concat(t),children:t})}},{title:"\u6807\u7B7E",dataIndex:["objectMeta","labels"],key:"labels",render:function(t,_){return(0,r.jsx)(A.Z,{labels:t},_.objectMeta.name)}},{title:"\u72B6\u6001",dataIndex:"status",key:"status"},{title:"Volume",dataIndex:"volume",key:"volume"},{title:"\u5BB9\u91CF",dataIndex:["capacity","storage"],key:"capacity.storage"},{title:"\u8BBF\u95EE\u6A21\u5F0F",dataIndex:"accessModes",key:"accessModes",render:function(t){return(0,r.jsx)(b.Z,{direction:"vertical",size:"small",children:t.map(function(_){return(0,r.jsx)(f.Z,{bordered:!1,color:"cyan",style:{margin:0},children:_})})})}},{title:"\u5B58\u50A8\u7C7B",dataIndex:"storageClass",key:"storageClass"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:["objectMeta","creationTimestamp"],key:"creationTimestamp",render:function(t){return C()(t).format("YYYY-MM-DD HH:mm:ss")}}],K=function(t,_){w({current:t,pageSize:_})};return(0,r.jsx)(d.Z,{title:"Persistent Volume Claims",style:{marginBottom:"24px"},children:(0,r.jsx)(k.Z,{columns:_e,dataSource:g,pagination:E()(E()({},Z),{},{showSizeChanger:!0,total:m,onChange:K})})})};Y.Z=i},88179:function(ae,Y,e){var G=e(97857),E=e.n(G),H=e(15009),O=e.n(H),y=e(99289),l=e.n(y),u=e(5574),o=e.n(u),A=e(51182),M=e(62832),U=e(88026),b=e(98081),f=e(83062),d=e(66309),k=e(4393),q=e(61182),C=e(27484),s=e.n(C),r=e(67294),i=e(85893),F=function(p){var P=p.name,T=p.namespace,L=p.type,B=(0,r.useState)([]),g=o()(B,2),X=g[0],W=g[1],v=(0,r.useState)(0),m=o()(v,2),R=m[0],x=m[1],S=(0,r.useState)({current:1,pageSize:10}),Z=o()(S,2),w=Z[0],te=Z[1],_e=function(){var t=l()(O()().mark(function _(){var n,c,D,j,V,z,J,N,ee,h;return O()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!L){Q.next=9;break}return Q.next=3,M.Z.KubernetesController.resource_detail(L,T,encodeURIComponent(encodeURIComponent("".concat(P,"/service"))));case 3:n=Q.sent,c=n.code,D=n.data,c==200&&(j=D.services,V=D.listMeta,x(V.totalItems),W(j)),Q.next=15;break;case 9:return Q.next=11,M.Z.KubernetesController.resource("service",T,P,w.pageSize,w.current);case 11:z=Q.sent,J=z.code,N=z.data,J==200&&(ee=N.services,h=N.listMeta,x(h.totalItems),W(ee));case 15:case"end":return Q.stop()}},_)}));return function(){return t.apply(this,arguments)}}();(0,r.useEffect)(function(){P&&T&&_e()},[P,T]);var K=[{title:"\u540D\u79F0",dataIndex:["objectMeta","name"],key:"objectMeta.name",width:150,render:function(_,n){return(0,i.jsx)(U.Link,{to:"/apps/info/service/".concat(n.objectMeta.namespace,"/").concat(_),children:_})}},{title:"\u6807\u7B7E",dataIndex:["objectMeta","labels"],key:"labels",width:150,render:function(_,n){return(0,i.jsx)(A.Z,{labels:_},n.objectMeta.name)}},{title:"\u7C7B\u522B",dataIndex:"type",key:"type",width:100},{title:"\u96C6\u7FA4 IP",dataIndex:"clusterIP",key:"clusterIP",width:100},{title:"\u5185\u90E8 Endpoints",dataIndex:"internalEndpoint",key:"internalEndpoint",width:150,render:function(_){return(0,i.jsx)(b.Z,{direction:"vertical",size:"middle",children:_.ports.map(function(n,c){return(0,i.jsx)(f.Z,{title:n.protocol,children:(0,i.jsxs)(d.Z,{bordered:!1,color:n.protocol=="TCP"?"cyan":"gold",style:{margin:0},children:[_.host,":",n.port]},"internalEndpoint-".concat(c))})})})}},{title:"\u5916\u90E8 Endpoints",dataIndex:"externalEndpoints",key:"externalEndpoints",render:function(_){return(0,i.jsx)(b.Z,{direction:"vertical",size:"middle",children:_.map(function(n,c){return n.ports.map(function(D,j){return(0,i.jsx)(f.Z,{title:D.protocol,children:(0,i.jsxs)(d.Z,{bordered:!1,color:D.protocol=="TCP"?"cyan":"gold",style:{margin:0},children:[n.host,":",D.port]},"externalEndpoint-".concat(c,"-").concat(j))},"tooltip-".concat(c,"-").concat(j))})})})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:["objectMeta","creationTimestamp"],key:"creationTimestamp",render:function(_){return s()(_).format("YYYY-MM-DD HH:mm:ss")}}],a=function(_,n){te({current:_,pageSize:n})};return(0,i.jsx)(k.Z,{title:"Services",style:{marginBottom:"24px"},children:(0,i.jsx)(q.Z,{columns:K,dataSource:X,pagination:E()(E()({},w),{},{showSizeChanger:!0,total:R,onChange:a})})})};Y.Z=F},80771:function(ae,Y,e){e.d(Y,{n:function(){return H}});var G=e(27484),E=e.n(G),H=function(y){if(!y)return"";try{var l=E()(y),u=E()(),o=u.diff(l,"second"),A=u.diff(l,"minute"),M=u.diff(l,"hour"),U=u.diff(l,"day"),b=u.diff(l,"month"),f=u.diff(l,"year");return f>0?"".concat(f,"\u5E74\u524D"):b>0?"".concat(b,"\u4E2A\u6708\u524D"):U>0?"".concat(U,"\u5929\u524D"):M>0?"".concat(M,"\u5C0F\u65F6\u524D"):A>0?"".concat(A,"\u5206\u949F\u524D"):o>30?"".concat(o,"\u79D2\u524D"):"\u521A\u521A"}catch(d){return console.error("\u76F8\u5BF9\u65F6\u95F4\u8BA1\u7B97\u9519\u8BEF:",d),""}}}}]);
