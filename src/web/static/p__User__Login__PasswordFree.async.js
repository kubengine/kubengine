"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2071],{45742:function(j,i,e){e.r(i);var a=e(15009),u=e.n(a),d=e(97857),l=e.n(d),v=e(99289),p=e.n(v),C=e(96949),O=e(10981),m=e(88026),P=e(17788),t=e(67294),n=e(85893),o=function(){var E=(0,m.useModel)("@@initialState"),b=E.initialState,M=E.setInitialState,c=function(){var D=p()(u()().mark(function h(){var f,r;return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return f={username:"admin",password:"Avic@123"},_.prev=1,_.next=4,(0,C.login)(l()({},f));case 4:r=_.sent,(0,O.Fr)({accessToken:r.access_token,tokenType:r.token_type,expiresAt:r.expires_at,username:f.username}),M(b?l()(l()({},b),{},{user:l()(l()({},b.user),{},{accessToken:r.access_token,tokenExpiresAt:r.expires_at,authType:"token"})}):{avatar:"/assets/logo.png",user:{accessToken:r.access_token,tokenExpiresAt:r.expires_at,authType:"token",ak:""}}),m.history.push("/"),_.next=13;break;case 10:_.prev=10,_.t0=_.catch(1),P.Z.error({title:"\u767B\u5F55\u5931\u8D25",content:"\u8BF7\u624B\u52A8\u5173\u95ED\u5F53\u524D\u6D4F\u89C8\u5668\u6807\u7B7E\u9875",okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},closable:!1,keyboard:!1,maskClosable:!1});case 13:case"end":return _.stop()}},h,null,[[1,10]])}));return function(){return D.apply(this,arguments)}}();return(0,t.useEffect)(function(){c()},[]),(0,n.jsx)(n.Fragment,{children:" "})};i.default=o},96949:function(j,i,e){e.r(i),e.d(i,{login:function(){return O}});var a=e(15009),u=e.n(a),d=e(97857),l=e.n(d),v=e(99289),p=e.n(v),C=e(88026);function O(P,t){return m.apply(this,arguments)}function m(){return m=p()(u()().mark(function P(t,n){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,C.request)("/api/v1/login",l()({method:"POST",headers:{"Content-Type":"application/json"},data:t},n||{})));case 1:case"end":return s.stop()}},P)})),m.apply(this,arguments)}},38780:function(j,i){function e(...a){const u={};return a.forEach(d=>{d&&Object.keys(d).forEach(l=>{d[l]!==void 0&&(u[l]=d[l])})}),u}i.Z=e},69760:function(j,i,e){e.d(i,{b:function(){return P},w:function(){return C}});var a=e(67294),u=e(97937),d=e(64217),l=e(10110),v=e(24457),p=e(38780);function C(t){if(!t)return;const{closable:n,closeIcon:o}=t;return{closable:n,closeIcon:o}}function O(t){const{closable:n,closeIcon:o}=t||{};return a.useMemo(()=>{if(!n&&(n===!1||o===!1||o===null))return!1;if(n===void 0&&o===void 0)return null;let s={closeIcon:typeof o!="boolean"&&o!==null?o:void 0};return n&&typeof n=="object"&&(s=Object.assign(Object.assign({},s),n)),s},[n,o])}const m={},P=(t,n,o=m)=>{const s=O(t),E=O(n),[b]=(0,l.Z)("global",v.Z.global),M=typeof s!="boolean"?!!(s!=null&&s.disabled):!1,c=a.useMemo(()=>Object.assign({closeIcon:a.createElement(u.Z,null)},o),[o]),D=a.useMemo(()=>s===!1?!1:s?(0,p.Z)(c,E,s):E===!1?!1:E?(0,p.Z)(c,E):c.closable?c:!1,[s,E,c]);return a.useMemo(()=>{var h,f;if(D===!1)return[!1,null,M,{}];const{closeIconRender:r}=c,{closeIcon:T}=D;let _=T;const g=(0,d.Z)(D,!0);return _!=null&&(r&&(_=r(T)),_=a.isValidElement(_)?a.cloneElement(_,Object.assign(Object.assign(Object.assign({},_.props),{"aria-label":(f=(h=_.props)===null||h===void 0?void 0:h["aria-label"])!==null&&f!==void 0?f:b.close}),g)):a.createElement("span",Object.assign({"aria-label":b.close},g),_)),[!0,_,M,g]},[M,b.close,D,c])}}}]);
