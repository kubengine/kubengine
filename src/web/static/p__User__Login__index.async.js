"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9366],{84236:function($,f,e){e.r(f),e.d(f,{default:function(){return K}});var T=e(15009),u=e.n(T),L=e(97857),r=e.n(L),A=e(99289),m=e.n(A),Z=e(5574),k=e.n(Z),x="KubeKylin",C=e(62832),F=e(10981),M=e(87547),P=e(94149),U=e(68262),p=e(5966),d=e(88026),z=e(2453),E=e(92398),I=e(28846),R=e(67294),t=e(85893),B=C.Z.UserController.login,D=(0,I.kc)(function(g){var s=g.token;return{action:{marginLeft:"8px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer",transition:"color 0.3s","&:hover":{color:s.colorPrimaryActive}},lang:{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:s.borderRadius,":hover":{backgroundColor:s.colorBgTextHover}},container:{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('/assets/bg.png')",backgroundSize:"100% 100%"}}}),V=function(s){var c=s.content;return _jsx(Alert,{style:{marginBottom:24},message:c,type:"error",showIcon:!0})},H=function(){var s=(0,R.useState)("account"),c=k()(s,2),y=c[0],G=c[1],j=(0,d.useModel)("@@initialState"),v=j.initialState,S=j.setInitialState,N=D(),O=N.styles,W=function(){var h=m()(u()().mark(function a(o){var n;return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,B(r()({},o));case 2:n=l.sent,(0,F.Fr)({accessToken:n.access_token,tokenType:n.token_type,expiresAt:n.expires_at,username:o.username}),S(v?r()(r()({},v),{},{user:r()(r()({},v.user),{},{accessToken:n.access_token,tokenExpiresAt:n.expires_at,authType:"token"})}):{avatar:"/assets/logo.png",user:{accessToken:n.access_token,tokenExpiresAt:n.expires_at,authType:"token",ak:""}}),z.ZP.success("\u767B\u5F55\u6210\u529F\uFF01"),d.history.push("/");case 7:case"end":return l.stop()}},a)}));return function(o){return h.apply(this,arguments)}}();return(0,t.jsxs)("div",{className:O.container,children:[(0,t.jsx)(d.Helmet,{children:(0,t.jsxs)("title",{children:["\u767B\u5F55","- ",x]})}),(0,t.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,t.jsxs)(U.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,t.jsx)("img",{alt:"logo",src:"/assets/logo.png"}),title:x,initialValues:{autoLogin:!0},onFinish:function(){var h=m()(u()().mark(function a(o){return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,W(o);case 2:case"end":return i.stop()}},a)}));return function(a){return h.apply(this,arguments)}}(),children:[(0,t.jsx)(E.Z,{activeKey:y,onChange:G,centered:!0,items:[{key:"account",label:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"}]}),y==="account"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Z,{name:"username",fieldProps:{size:"large",prefix:(0,t.jsx)(M.Z,{})},placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]}),(0,t.jsx)(p.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(P.Z,{})},placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]})]})]})})]})},K=H}}]);
